{"version":3,"file":"900.js","mappings":"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","sources":["webpack://test-frontend-spa/./src/components/display-data/DataGridTable/DataGridToolbar.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/columns.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/useDataGrid.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/AppConfirmDialog.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/FullFeaturedCrudGrid.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/useConfirmDialog.tsx"],"sourcesContent":["import React from \"react\";\nimport { GridToolbarContainer } from \"@mui/x-data-grid\";\nimport { Button } from \"@mui/material\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport { label_text } from \"../../../utils/text\";\nvar DataGridToolbar = function (_a) {\n    var handleAddNewRow = _a.handleAddNewRow;\n    return (React.createElement(GridToolbarContainer, { sx: { justifyContent: \"space-between\" } },\n        React.createElement(Button, { color: \"primary\", startIcon: React.createElement(AddIcon, null), onClick: handleAddNewRow }, label_text.addNewRecord)));\n};\nexport default DataGridToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from \"react\";\nimport { GridEditInputCell, } from \"@mui/x-data-grid\";\nimport { databaseColumnNames } from \"../../../utils/text\";\nvar commonColsDef = {\n    field: \"\",\n    editable: true,\n    minWidth: 100,\n    renderEditCell: function (params) {\n        return React.createElement(GridEditInputCell, __assign({}, params, { title: params.error_message || \"\" }));\n    },\n    preProcessEditCellProps: function (params) {\n        var hasError = params.props.value === null;\n        return __assign(__assign({}, params.props), { error: hasError, error_message: hasError ? \"Поле не должно быть пустым\" : \"\" });\n    },\n};\nexport var columnsDef = [\n    __assign(__assign({}, commonColsDef), { field: \"employeeNumber\", type: \"number\", headerName: databaseColumnNames.employeeNumber, align: \"left\", minWidth: 60, flex: 1 }),\n    {\n        editable: true,\n        field: \"employeeSigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.employeeSigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"documentType\", headerName: databaseColumnNames.documentType, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentName\", headerName: databaseColumnNames.documentName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentStatus\", headerName: databaseColumnNames.documentStatus, flex: 1 }),\n    {\n        editable: true,\n        field: \"companySigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.companySigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"employeeSignatureName\", headerName: databaseColumnNames.employeeSignatureName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"companySignatureName\", headerName: databaseColumnNames.companySignatureName, flex: 1 }),\n];\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { deleteRow, sendRow, } from \"../../../store/database/databaseSlice\";\nimport { GridActionsCellItem, GridRowEditStopReasons, GridRowModes, useGridApiRef, } from \"@mui/x-data-grid\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlined\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CancelIcon from \"@mui/icons-material/Close\";\nimport { columnsDef } from \"./columns\";\nimport { emptySingleRecord, hasEmptyFields } from \"../../../utils/mock.fetch\";\nimport { nanoid } from \"nanoid\";\nimport { useAppSnackbar } from \"../../../hooks/useAppSnackbar\";\nimport { useAppDispatch } from \"../../../store\";\nimport { setIsOverlayShow } from \"../../../store/overlaySlice\";\nimport { Loop } from \"@mui/icons-material\";\nimport { useConfirmDialog } from \"./useConfirmDialog\";\nexport var useDataGrid = function (data) {\n    var _a = useState(data), rows = _a[0], setRows = _a[1];\n    var _b = useState({}), rowModesModel = _b[0], setRowModesModel = _b[1];\n    var _c = useState({}), abortFetch = _c[0], setAbortFetch = _c[1];\n    var showSnackbar = useAppSnackbar().showSnackbar;\n    var dispatch = useAppDispatch();\n    var _d = useConfirmDialog(), askConfirm = _d.askConfirm, confirmOpen = _d.confirmOpen, onClose = _d.onClose, onConfirm = _d.onConfirm, setConfirmOpen = _d.setConfirmOpen;\n    // newRows - массив копий свежесозданных строк,\n    // которые еще не сохранены в redux-store.\n    // Не нужен, если запретить создавать новые строки,\n    // когда есть хоть одна созданная, но не сохраненная\n    var _e = useState([]), newRows = _e[0], setNewRows = _e[1];\n    var apiRef = useGridApiRef();\n    useEffect(function () { return setRows(__spreadArray(__spreadArray([], data, true), newRows, true)); }, [data]);\n    useEffect(function () {\n        setTimeout(function () {\n            dispatch(setIsOverlayShow(false));\n        });\n    }, [data]);\n    var handleEditClick = useCallback(function (id) { return function () {\n        var _a;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.Edit }, _a)));\n    }; }, [rowModesModel]);\n    var handleSaveClick = useCallback(function (id) { return function () {\n        var _a;\n        if (abortFetch[id])\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View }, _a)));\n    }; }, [rowModesModel]);\n    var deleteAfterConfirm = useCallback(function (callback) {\n        if (askConfirm) {\n            setConfirmOpen(function () { return callback; });\n        }\n        else\n            callback();\n    }, [askConfirm]);\n    var handleDeleteClick = useCallback(function (id) { return function () {\n        var processDelete = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        dispatch(setIsOverlayShow(true));\n                        response = dispatch(deleteRow(id));\n                        addAbortCallback(id, response.abort);\n                        return [4 /*yield*/, response.unwrap().catch(function () {\n                                dispatch(setIsOverlayShow(false));\n                            })];\n                    case 1:\n                        _a.sent();\n                        removeAbortCallback(id);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        deleteAfterConfirm(processDelete);\n    }; }, [dispatch, deleteAfterConfirm]);\n    var handleCancelClick = useCallback(function (id) { return function () {\n        var _a;\n        if (abortFetch[id])\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View, ignoreModifications: true }, _a)));\n        var editedRow = newRows.find(function (row) { return row.id === id; });\n        if (editedRow) {\n            removeRow(id);\n        }\n    }; }, [newRows, rowModesModel]);\n    var handleRowEditStop = useCallback(function (params, event) {\n        event.defaultMuiPrevented = true;\n        switch (params.reason) {\n            case GridRowEditStopReasons.escapeKeyDown:\n                handleCancelClick(params.id)();\n                break;\n            case GridRowEditStopReasons.enterKeyDown:\n                handleSaveClick(params.id)();\n        }\n    }, [handleCancelClick, handleSaveClick]);\n    var processRowUpdate = useCallback(function (newRow) { return __awaiter(void 0, void 0, void 0, function () {\n        var returnedRow, id, error, creatingRow, response, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    returnedRow = newRow;\n                    id = newRow.id;\n                    error = \"\";\n                    if (hasEmptyFields(newRow)) {\n                        return [2 /*return*/, Promise.reject(\"Заполните пустые поля\")];\n                    }\n                    creatingRow = newRows.find(function (row) { return row.id === id; });\n                    if (!creatingRow) return [3 /*break*/, 2];\n                    response = dispatch(sendRow({ row: newRow }));\n                    addAbortCallback(id, response.abort);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                            removeRow(id);\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 1:\n                    _a.sent();\n                    removeAbortCallback(id);\n                    return [3 /*break*/, 4];\n                case 2:\n                    response = dispatch(sendRow({ row: newRow, id: id }));\n                    addAbortCallback(id, response.abort);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 3:\n                    _a.sent();\n                    removeAbortCallback(id);\n                    _a.label = 4;\n                case 4:\n                    if (error)\n                        return [2 /*return*/, Promise.reject()];\n                    return [2 /*return*/, returnedRow];\n            }\n        });\n    }); }, [newRows, dispatch]);\n    var onProcessRowUpdateError = useCallback(function (error) {\n        showSnackbar(error);\n    }, []);\n    var handleRowModesModelChange = useCallback(function (newRowModesModel) {\n        setRowModesModel(newRowModesModel);\n    }, []);\n    var handleAddNewRow = useCallback(function () {\n        var newRow = __assign(__assign({ id: nanoid() }, emptySingleRecord), { companySigDate: new Date().toISOString(), employeeSigDate: new Date().toISOString() });\n        addNewRow(newRow);\n        setRowModesModel(function (oldModel) {\n            var _a;\n            return (__assign(__assign({}, oldModel), (_a = {}, _a[newRow.id] = {\n                mode: GridRowModes.Edit,\n                fieldToFocus: \"employeeNumber\",\n            }, _a)));\n        });\n        apiRef.current.setPage(0);\n        apiRef.current.sortColumn(\"companySigDate\", \"desc\");\n    }, [apiRef.current]);\n    var addNewRow = useCallback(function (newRow) {\n        setNewRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newRow], false); });\n        setRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newRow], false); });\n    }, []);\n    var removeRow = useCallback(function (id) {\n        setNewRows(function (prev) { return prev.filter(function (row) { return row.id !== id; }); });\n        setRows(function (prev) { return prev.filter(function (row) { return row.id !== id; }); });\n    }, []);\n    var addAbortCallback = useCallback(function (id, aborter) {\n        setAbortFetch(function (prev) {\n            var _a;\n            return __assign(__assign({}, prev), (_a = {}, _a[id] = aborter, _a));\n        });\n    }, []);\n    var removeAbortCallback = useCallback(function (id) {\n        setAbortFetch(function (prev) {\n            var _a;\n            return __assign(__assign({}, prev), (_a = {}, _a[id] = undefined, _a));\n        });\n    }, []);\n    var columns = useMemo(function () {\n        return __spreadArray(__spreadArray([], columnsDef, true), [\n            {\n                field: \"actions\",\n                type: \"actions\",\n                headerName: \"Actions\",\n                minWidth: 126,\n                cellClassName: \"actions\",\n                getActions: function (_a) {\n                    var _b;\n                    var id = _a.id;\n                    var isInEditMode = ((_b = rowModesModel[id]) === null || _b === void 0 ? void 0 : _b.mode) === GridRowModes.Edit;\n                    var enableAbortButton = !!abortFetch[id];\n                    var abortButton = enableAbortButton\n                        ? [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"warning\" }), label: \"Abort\", title: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\", sx: {\n                                    animation: \"spin 2s linear infinite\",\n                                    \"@keyframes spin\": {\n                                        \"0%\": {\n                                            transform: \"rotate(360deg)\",\n                                        },\n                                        \"100%\": {\n                                            transform: \"rotate(0deg)\",\n                                        },\n                                    },\n                                }, onClick: abortFetch[id] }),\n                        ]\n                        : [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"inherit\" }), label: \"Abort\", title: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\" }),\n                        ];\n                    var editModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(SaveIcon, null), label: \"Save\", sx: {\n                                color: \"primary.main\",\n                            }, onClick: handleSaveClick(id), disabled: enableAbortButton }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(CancelIcon, null), label: \"Cancel\", className: \"textPrimary\", onClick: handleCancelClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                    ];\n                    var viewModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(EditIcon, null), label: \"Edit\", className: \"textPrimary\", onClick: handleEditClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(DeleteIcon, null), label: \"Delete\", onClick: handleDeleteClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                    ];\n                    if (isInEditMode) {\n                        return __spreadArray(__spreadArray([], editModeActions, true), abortButton, true);\n                    }\n                    return __spreadArray(__spreadArray([], viewModeActions, true), abortButton, true);\n                },\n            },\n        ], false);\n    }, [\n        rowModesModel,\n        abortFetch,\n        handleSaveClick,\n        handleCancelClick,\n        handleEditClick,\n        handleDeleteClick,\n    ]);\n    var handlers = {\n        handleRowEditStop: handleRowEditStop,\n        processRowUpdate: processRowUpdate,\n        handleRowModesModelChange: handleRowModesModelChange,\n        handleAddNewRow: handleAddNewRow,\n        onProcessRowUpdateError: onProcessRowUpdateError,\n        abortFetch: abortFetch,\n        onClose: onClose,\n        onConfirm: onConfirm,\n    };\n    return {\n        rows: rows,\n        rowModesModel: rowModesModel,\n        columns: columns,\n        handlers: handlers,\n        apiRef: apiRef,\n        activeRequests: Object.keys(abortFetch).length > 0,\n        confirmOpen: !!confirmOpen,\n    };\n};\n","import { Checkbox, FormControlLabel } from \"@mui/material\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { label_text } from \"../../../utils/text\";\nvar AppConfirmDialog = function (_a) {\n    var title = _a.title, body = _a.body, open = _a.open, onClose = _a.onClose, onConfirm = _a.onConfirm;\n    var _b = useState(false), checked = _b[0], setChecked = _b[1];\n    var handleConfirm = function (askConfirm) { return function () {\n        onConfirm(askConfirm);\n    }; };\n    return (React.createElement(Dialog, { open: open, onClose: onClose, \"aria-labelledby\": \"alert-dialog-title\", \"aria-describedby\": \"alert-dialog-description\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, title),\n        React.createElement(DialogContent, null,\n            React.createElement(DialogContentText, { id: \"alert-dialog-description\" }, body)),\n        React.createElement(DialogActions, null,\n            React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { checked: checked, onChange: function () { return setChecked(!checked); } }), label: label_text.askConfirm, labelPlacement: \"end\" })),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { onClick: handleConfirm(!checked) }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"),\n            React.createElement(Button, { onClick: onClose, autoFocus: true }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n};\nexport default AppConfirmDialog;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport DataGridToolbar from \"./DataGridToolbar\";\nimport { useDataGrid } from \"./useDataGrid\";\nimport AppConfirmDialog from \"./AppConfirmDialog\";\nvar testMode = process.env.NODE_ENV === \"test\";\nvar commonBoxStyles = {\n    width: \"100%\",\n    \"& .actions\": {\n        color: \"text.secondary\",\n    },\n    \"& .textPrimary\": {\n        color: \"text.primary\",\n    },\n};\nvar testBoxStyles = __assign({ minHeight: 450 }, commonBoxStyles);\nvar FullFeaturedCrudGrid = function (_a) {\n    var data = _a.data, loading = _a.loading;\n    var _b = useDataGrid(data), rows = _b.rows, rowModesModel = _b.rowModesModel, columns = _b.columns, handlers = _b.handlers, apiRef = _b.apiRef, activeRequests = _b.activeRequests, confirmOpen = _b.confirmOpen;\n    var handleAddNewRow = handlers.handleAddNewRow, handleRowEditStop = handlers.handleRowEditStop, handleRowModesModelChange = handlers.handleRowModesModelChange, processRowUpdate = handlers.processRowUpdate, onProcessRowUpdateError = handlers.onProcessRowUpdateError, onClose = handlers.onClose, onConfirm = handlers.onConfirm, abortFetch = handlers.abortFetch;\n    return React.useMemo(function () { return (React.createElement(Box, { sx: testMode\n            ? testBoxStyles\n            : __assign({ height: \"65vh\" }, commonBoxStyles) },\n        React.createElement(DataGrid, { rows: rows, columns: columns, editMode: \"row\", rowModesModel: rowModesModel, onRowModesModelChange: handleRowModesModelChange, onRowEditStop: handleRowEditStop, processRowUpdate: processRowUpdate, onProcessRowUpdateError: onProcessRowUpdateError, slots: {\n                toolbar: DataGridToolbar,\n            }, slotProps: {\n                toolbar: { handleAddNewRow: handleAddNewRow },\n            }, initialState: {\n                pagination: testMode\n                    ? { paginationModel: { pageSize: 10 } }\n                    : undefined,\n                sorting: {\n                    sortModel: [{ field: \"employeeSigDate\", sort: \"desc\" }],\n                },\n            }, sx: { minHeight: testMode ? 450 : \"auto\", p: 1 }, apiRef: apiRef, loading: loading && !activeRequests, pageSizeOptions: [5, 10, 25, 50, 100], autoPageSize: testMode ? false : true }),\n        React.createElement(AppConfirmDialog, { title: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435\", body: \"\", open: confirmOpen, onClose: onClose, onConfirm: onConfirm() }))); }, [\n        data,\n        loading,\n        rows,\n        rowModesModel,\n        columns,\n        apiRef,\n        handleAddNewRow,\n        handleRowEditStop,\n        handleRowModesModelChange,\n        processRowUpdate,\n        onProcessRowUpdateError,\n        abortFetch,\n        activeRequests,\n        onClose,\n        onConfirm,\n        confirmOpen,\n    ]);\n};\nexport default FullFeaturedCrudGrid;\n","import { useCallback, useState } from \"react\";\nexport var useConfirmDialog = function () {\n    var _a = useState(true), askConfirm = _a[0], setAskConfirm = _a[1];\n    var _b = useState(), confirmOpen = _b[0], setConfirmOpen = _b[1];\n    var onClose = useCallback(function () {\n        setConfirmOpen(undefined);\n    }, []);\n    var onConfirm = useCallback(function () { return function (ask) {\n        setAskConfirm(ask);\n        if (!!confirmOpen) {\n            confirmOpen();\n            setConfirmOpen(undefined);\n        }\n    }; }, [confirmOpen]);\n    return {\n        askConfirm: askConfirm,\n        confirmOpen: confirmOpen,\n        onClose: onClose,\n        onConfirm: onConfirm,\n        setConfirmOpen: setConfirmOpen,\n    };\n};\n"],"names":["_a","handleAddNewRow","GridToolbarContainer","sx","justifyContent","Button","color","startIcon","Add","A","onClick","addNewRecord","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","commonColsDef","field","editable","minWidth","renderEditCell","params","GridEditInputCell","title","error_message","preProcessEditCellProps","hasError","props","value","error","columnsDef","type","headerName","employeeNumber","align","flex","employeeSigDate","renderCell","_b","toLocaleString","toLocaleDateString","valueGetter","Date","documentType","documentName","documentStatus","companySigDate","employeeSignatureName","companySignatureName","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","ar","l","Array","slice","concat","askConfirm","open","onClose","onConfirm","useState","checked","setChecked","Dialog","DialogTitle","id","DialogContent","DialogContentText","DialogActions","FormControlLabel","control","Checkbox","onChange","labelPlacement","autoFocus","commonBoxStyles","width","minHeight","data","loading","rows","setRows","rowModesModel","setRowModesModel","_c","abortFetch","setAbortFetch","showSnackbar","useAppSnackbar","dispatch","_d","setAskConfirm","confirmOpen","setConfirmOpen","useCallback","undefined","ask","useConfirmDialog","_e","newRows","setNewRows","apiRef","useGridApiRef","useEffect","setTimeout","handleEditClick","mode","Edit","handleSaveClick","View","deleteAfterConfirm","callback","handleDeleteClick","response","addAbortCallback","abort","unwrap","catch","removeAbortCallback","handleCancelClick","ignoreModifications","find","row","removeRow","handleRowEditStop","event","defaultMuiPrevented","reason","escapeKeyDown","enterKeyDown","processRowUpdate","newRow","returnedRow","err","onProcessRowUpdateError","handleRowModesModelChange","newRowModesModel","toISOString","addNewRow","oldModel","fieldToFocus","current","setPage","sortColumn","prev","filter","aborter","columns","useMemo","cellClassName","getActions","isInEditMode","enableAbortButton","abortButton","GridActionsCellItem","icon","Loop","animation","transform","editModeActions","Save","disabled","className","viewModeActions","handlers","activeRequests","keys","useDataGrid","Box","height","DataGrid","editMode","onRowModesModelChange","onRowEditStop","slots","toolbar","slotProps","initialState","pagination","sorting","sortModel","sort","pageSizeOptions","autoPageSize"],"sourceRoot":""}
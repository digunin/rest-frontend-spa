{"version":3,"file":"900.js","mappings":"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","sources":["webpack://test-frontend-spa/./src/components/display-data/DataGridTable/DataGridToolbar.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/columns.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/useDataGrid.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/useConfirmDialog.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/AppConfirmDialog.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/FullFeaturedCrudGrid.tsx"],"sourcesContent":["import React from \"react\";\nimport { GridToolbarContainer } from \"@mui/x-data-grid\";\nimport { Button } from \"@mui/material\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport { label_text } from \"../../../utils/text\";\nvar DataGridToolbar = function (_a) {\n    var handleAddNewRow = _a.handleAddNewRow;\n    return (React.createElement(GridToolbarContainer, { sx: { justifyContent: \"space-between\" } },\n        React.createElement(Button, { color: \"primary\", startIcon: React.createElement(AddIcon, null), onClick: handleAddNewRow }, label_text.addNewRecord)));\n};\nexport default DataGridToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from \"react\";\nimport { GridEditInputCell, } from \"@mui/x-data-grid\";\nimport { databaseColumnNames } from \"../../../utils/text\";\nvar commonColsDef = {\n    field: \"\",\n    editable: true,\n    minWidth: 100,\n    renderEditCell: function (params) {\n        return React.createElement(GridEditInputCell, __assign({}, params, { title: params.error_message || \"\" }));\n    },\n    preProcessEditCellProps: function (params) {\n        var hasError = params.props.value === null;\n        return __assign(__assign({}, params.props), { error: hasError, error_message: hasError ? \"Поле не должно быть пустым\" : \"\" });\n    },\n};\nexport var columnsDef = [\n    __assign(__assign({}, commonColsDef), { field: \"employeeNumber\", type: \"number\", headerName: databaseColumnNames.employeeNumber, align: \"left\", minWidth: 60, flex: 1 }),\n    {\n        editable: true,\n        field: \"employeeSigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.employeeSigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"documentType\", headerName: databaseColumnNames.documentType, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentName\", headerName: databaseColumnNames.documentName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentStatus\", headerName: databaseColumnNames.documentStatus, flex: 1 }),\n    {\n        editable: true,\n        field: \"companySigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.companySigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"employeeSignatureName\", headerName: databaseColumnNames.employeeSignatureName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"companySignatureName\", headerName: databaseColumnNames.companySignatureName, flex: 1 }),\n];\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { deleteRow, loadData, sendRow, } from \"../../../store/database/databaseSlice\";\nimport { GridActionsCellItem, GridRowEditStopReasons, GridRowModes, useGridApiRef, } from \"@mui/x-data-grid\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlined\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CancelIcon from \"@mui/icons-material/Close\";\nimport { columnsDef } from \"./columns\";\nimport { emptySingleRecord, hasEmptyFields } from \"../../../utils/mock.fetch\";\nimport { nanoid } from \"nanoid\";\nimport { useAppSnackbar } from \"../../../hooks/useAppSnackbar\";\nimport { useAppDispatch } from \"../../../store\";\nimport { setIsOverlayShow } from \"../../../store/overlaySlice\";\nimport { Loop } from \"@mui/icons-material\";\nimport { useConfirmDialog } from \"./useConfirmDialog\";\nimport { error_messages } from \"../../../utils/text\";\nexport var useDataGrid = function (data) {\n    var _a = useState(data), rows = _a[0], setRows = _a[1];\n    var _b = useState({}), rowModesModel = _b[0], setRowModesModel = _b[1];\n    var _c = useState({}), abortFetch = _c[0], setAbortFetch = _c[1];\n    var showSnackbar = useAppSnackbar().showSnackbar;\n    var dispatch = useAppDispatch();\n    var _d = useConfirmDialog(), askConfirm = _d.askConfirm, confirmOpen = _d.confirmOpen, onClose = _d.onClose, onConfirm = _d.onConfirm, setConfirmOpen = _d.setConfirmOpen;\n    // newRows - массив копий свежесозданных строк,\n    // которые еще не сохранены в redux-store.\n    // Не нужен, если запретить создавать новые строки,\n    // когда есть хоть одна созданная, но не сохраненная\n    var _e = useState([]), newRows = _e[0], setNewRows = _e[1];\n    var apiRef = useGridApiRef();\n    useEffect(function () { return setRows(__spreadArray(__spreadArray([], data, true), newRows, true)); }, [data]);\n    useEffect(function () {\n        setTimeout(function () {\n            dispatch(setIsOverlayShow(false));\n        });\n    }, [data]);\n    var handleEditClick = useCallback(function (id) { return function () {\n        var _a;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.Edit }, _a)));\n    }; }, [rowModesModel]);\n    var handleSaveClick = useCallback(function (id) { return function () {\n        var _a;\n        if (abortFetch[id])\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View }, _a)));\n    }; }, [rowModesModel]);\n    var deleteAfterConfirm = useCallback(function (callback) {\n        if (askConfirm) {\n            setConfirmOpen(function () { return callback; });\n        }\n        else\n            callback();\n    }, [askConfirm]);\n    var handleDeleteClick = useCallback(function (id) { return function () {\n        var processDelete = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var errorName, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        errorName = \"\";\n                        dispatch(setIsOverlayShow(true));\n                        response = dispatch(deleteRow(id));\n                        addAbortCallback(id, response.abort);\n                        return [4 /*yield*/, response.unwrap().catch(function (err) {\n                                errorName = err.name;\n                                dispatch(setIsOverlayShow(false));\n                            })];\n                    case 1:\n                        _a.sent();\n                        removeAbortCallback(id);\n                        if (errorName === error_messages.abortedErrorName) {\n                            dispatch(loadData());\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        deleteAfterConfirm(processDelete);\n    }; }, [dispatch, deleteAfterConfirm]);\n    var handleCancelClick = useCallback(function (id) { return function () {\n        var _a;\n        if (abortFetch[id])\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View, ignoreModifications: true }, _a)));\n        var editedRow = newRows.find(function (row) { return row.id === id; });\n        if (editedRow) {\n            removeRow(id);\n        }\n    }; }, [newRows, rowModesModel]);\n    var handleRowEditStop = useCallback(function (params, event) {\n        event.defaultMuiPrevented = true;\n        switch (params.reason) {\n            case GridRowEditStopReasons.escapeKeyDown:\n                handleCancelClick(params.id)();\n                break;\n            case GridRowEditStopReasons.enterKeyDown:\n                handleSaveClick(params.id)();\n        }\n    }, [handleCancelClick, handleSaveClick]);\n    var processRowUpdate = useCallback(function (newRow) { return __awaiter(void 0, void 0, void 0, function () {\n        var returnedRow, id, error, creatingRow, response, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    returnedRow = newRow;\n                    id = newRow.id;\n                    error = { name: \"\", message: \"\" };\n                    if (hasEmptyFields(newRow)) {\n                        return [2 /*return*/, Promise.reject(\"Заполните пустые поля\")];\n                    }\n                    creatingRow = newRows.find(function (row) { return row.id === id; });\n                    if (!creatingRow) return [3 /*break*/, 2];\n                    response = dispatch(sendRow({ row: newRow }));\n                    addAbortCallback(id, response.abort);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                            removeRow(id);\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 1:\n                    _a.sent();\n                    removeAbortCallback(id);\n                    return [3 /*break*/, 4];\n                case 2:\n                    response = dispatch(sendRow({ row: newRow, id: id }));\n                    addAbortCallback(id, response.abort);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 3:\n                    _a.sent();\n                    removeAbortCallback(id);\n                    _a.label = 4;\n                case 4:\n                    if (error.name || error.message) {\n                        if (error.name === error_messages.abortedErrorName) {\n                            dispatch(loadData());\n                        }\n                        return [2 /*return*/, Promise.reject()];\n                    }\n                    return [2 /*return*/, returnedRow];\n            }\n        });\n    }); }, [newRows, dispatch]);\n    var onProcessRowUpdateError = useCallback(function (error) {\n        showSnackbar(error);\n    }, []);\n    var handleRowModesModelChange = useCallback(function (newRowModesModel) {\n        setRowModesModel(newRowModesModel);\n    }, []);\n    var handleAddNewRow = useCallback(function () {\n        var newRow = __assign(__assign({ id: nanoid() }, emptySingleRecord), { companySigDate: new Date().toISOString(), employeeSigDate: new Date().toISOString() });\n        addNewRow(newRow);\n        setRowModesModel(function (oldModel) {\n            var _a;\n            return (__assign(__assign({}, oldModel), (_a = {}, _a[newRow.id] = {\n                mode: GridRowModes.Edit,\n                fieldToFocus: \"employeeNumber\",\n            }, _a)));\n        });\n        apiRef.current.setPage(0);\n        apiRef.current.sortColumn(\"companySigDate\", \"desc\");\n    }, [apiRef.current]);\n    var addNewRow = useCallback(function (newRow) {\n        setNewRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newRow], false); });\n        setRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newRow], false); });\n    }, []);\n    var removeRow = useCallback(function (id) {\n        setNewRows(function (prev) { return prev.filter(function (row) { return row.id !== id; }); });\n        setRows(function (prev) { return prev.filter(function (row) { return row.id !== id; }); });\n    }, []);\n    var addAbortCallback = useCallback(function (id, aborter) {\n        setAbortFetch(function (prev) {\n            var _a;\n            return __assign(__assign({}, prev), (_a = {}, _a[id] = aborter, _a));\n        });\n    }, []);\n    var removeAbortCallback = useCallback(function (id) {\n        setAbortFetch(function (prev) {\n            var _a = prev, _b = id, _ = _a[_b], rest = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return rest;\n        });\n    }, []);\n    var columns = useMemo(function () {\n        return __spreadArray(__spreadArray([], columnsDef, true), [\n            {\n                field: \"actions\",\n                type: \"actions\",\n                headerName: \"Actions\",\n                minWidth: 126,\n                cellClassName: \"actions\",\n                getActions: function (_a) {\n                    var _b;\n                    var id = _a.id;\n                    var isInEditMode = ((_b = rowModesModel[id]) === null || _b === void 0 ? void 0 : _b.mode) === GridRowModes.Edit;\n                    var enableAbortButton = !!abortFetch[id];\n                    var abortButton = enableAbortButton\n                        ? [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"warning\" }), label: \"Abort\", title: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\", sx: {\n                                    animation: \"spin 2s linear infinite\",\n                                    \"@keyframes spin\": {\n                                        \"0%\": {\n                                            transform: \"rotate(360deg)\",\n                                        },\n                                        \"100%\": {\n                                            transform: \"rotate(0deg)\",\n                                        },\n                                    },\n                                }, onClick: abortFetch[id] }),\n                        ]\n                        : [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"inherit\" }), label: \"Abort\", title: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\" }),\n                        ];\n                    var editModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(SaveIcon, null), label: \"Save\", sx: {\n                                color: \"primary.main\",\n                            }, onClick: handleSaveClick(id), disabled: enableAbortButton }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(CancelIcon, null), label: \"Cancel\", className: \"textPrimary\", onClick: handleCancelClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                    ];\n                    var viewModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(EditIcon, null), label: \"Edit\", className: \"textPrimary\", onClick: handleEditClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(DeleteIcon, null), label: \"Delete\", onClick: handleDeleteClick(id), color: \"inherit\", disabled: enableAbortButton }),\n                    ];\n                    if (isInEditMode) {\n                        return __spreadArray(__spreadArray([], editModeActions, true), abortButton, true);\n                    }\n                    return __spreadArray(__spreadArray([], viewModeActions, true), abortButton, true);\n                },\n            },\n        ], false);\n    }, [\n        rowModesModel,\n        abortFetch,\n        handleSaveClick,\n        handleCancelClick,\n        handleEditClick,\n        handleDeleteClick,\n    ]);\n    var handlers = {\n        handleRowEditStop: handleRowEditStop,\n        processRowUpdate: processRowUpdate,\n        handleRowModesModelChange: handleRowModesModelChange,\n        handleAddNewRow: handleAddNewRow,\n        onProcessRowUpdateError: onProcessRowUpdateError,\n        abortFetch: abortFetch,\n        onClose: onClose,\n        onConfirm: onConfirm,\n    };\n    return {\n        rows: rows,\n        rowModesModel: rowModesModel,\n        columns: columns,\n        handlers: handlers,\n        apiRef: apiRef,\n        activeRequests: Object.keys(abortFetch).length > 0,\n        confirmOpen: !!confirmOpen,\n    };\n};\n","import { useCallback, useState } from \"react\";\nexport var useConfirmDialog = function () {\n    var _a = useState(true), askConfirm = _a[0], setAskConfirm = _a[1];\n    var _b = useState(), confirmOpen = _b[0], setConfirmOpen = _b[1];\n    var onClose = useCallback(function () {\n        setConfirmOpen(undefined);\n    }, []);\n    var onConfirm = useCallback(function () { return function (ask) {\n        setAskConfirm(ask);\n        if (!!confirmOpen) {\n            confirmOpen();\n            setConfirmOpen(undefined);\n        }\n    }; }, [confirmOpen]);\n    return {\n        askConfirm: askConfirm,\n        confirmOpen: confirmOpen,\n        onClose: onClose,\n        onConfirm: onConfirm,\n        setConfirmOpen: setConfirmOpen,\n    };\n};\n","import { Checkbox, FormControlLabel } from \"@mui/material\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { label_text } from \"../../../utils/text\";\nvar AppConfirmDialog = function (_a) {\n    var title = _a.title, body = _a.body, open = _a.open, onClose = _a.onClose, onConfirm = _a.onConfirm;\n    var _b = useState(false), checked = _b[0], setChecked = _b[1];\n    var handleConfirm = function (askConfirm) { return function () {\n        onConfirm(askConfirm);\n    }; };\n    return (React.createElement(Dialog, { open: open, onClose: onClose, \"aria-labelledby\": \"alert-dialog-title\", \"aria-describedby\": \"alert-dialog-description\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, title),\n        React.createElement(DialogContent, null,\n            React.createElement(DialogContentText, { id: \"alert-dialog-description\" }, body)),\n        React.createElement(DialogActions, null,\n            React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { checked: checked, onChange: function () { return setChecked(!checked); } }), label: label_text.askConfirm, labelPlacement: \"end\" })),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { onClick: handleConfirm(!checked) }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"),\n            React.createElement(Button, { onClick: onClose, autoFocus: true }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n};\nexport default AppConfirmDialog;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport DataGridToolbar from \"./DataGridToolbar\";\nimport { useDataGrid } from \"./useDataGrid\";\nimport AppConfirmDialog from \"./AppConfirmDialog\";\nvar testMode = process.env.NODE_ENV === \"test\";\nvar commonBoxStyles = {\n    width: \"100%\",\n    \"& .actions\": {\n        color: \"text.secondary\",\n    },\n    \"& .textPrimary\": {\n        color: \"text.primary\",\n    },\n};\nvar testBoxStyles = __assign({ minHeight: 450 }, commonBoxStyles);\nvar FullFeaturedCrudGrid = function (_a) {\n    var data = _a.data, loading = _a.loading;\n    var _b = useDataGrid(data), rows = _b.rows, rowModesModel = _b.rowModesModel, columns = _b.columns, handlers = _b.handlers, apiRef = _b.apiRef, activeRequests = _b.activeRequests, confirmOpen = _b.confirmOpen;\n    var handleAddNewRow = handlers.handleAddNewRow, handleRowEditStop = handlers.handleRowEditStop, handleRowModesModelChange = handlers.handleRowModesModelChange, processRowUpdate = handlers.processRowUpdate, onProcessRowUpdateError = handlers.onProcessRowUpdateError, onClose = handlers.onClose, onConfirm = handlers.onConfirm, abortFetch = handlers.abortFetch;\n    return React.useMemo(function () { return (React.createElement(Box, { sx: testMode ? testBoxStyles : commonBoxStyles },\n        React.createElement(DataGrid, { rows: rows, columns: columns, editMode: \"row\", rowModesModel: rowModesModel, onRowModesModelChange: handleRowModesModelChange, onRowEditStop: handleRowEditStop, processRowUpdate: processRowUpdate, onProcessRowUpdateError: onProcessRowUpdateError, slots: {\n                toolbar: DataGridToolbar,\n            }, slotProps: {\n                toolbar: { handleAddNewRow: handleAddNewRow },\n            }, initialState: {\n                pagination: testMode\n                    ? { paginationModel: { pageSize: 10 } }\n                    : { paginationModel: { pageSize: 5 } },\n                sorting: {\n                    sortModel: [{ field: \"employeeSigDate\", sort: \"desc\" }],\n                },\n            }, sx: { minHeight: 450, p: 1 }, apiRef: apiRef, loading: loading && !activeRequests, pageSizeOptions: [5, 10, 25, 50, 100], autoHeight: testMode ? false : true }),\n        React.createElement(AppConfirmDialog, { title: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435\", body: \"\", open: confirmOpen, onClose: onClose, onConfirm: onConfirm() }))); }, [\n        data,\n        loading,\n        rows,\n        rowModesModel,\n        columns,\n        apiRef,\n        handleAddNewRow,\n        handleRowEditStop,\n        handleRowModesModelChange,\n        processRowUpdate,\n        onProcessRowUpdateError,\n        abortFetch,\n        activeRequests,\n        onClose,\n        onConfirm,\n        confirmOpen,\n    ]);\n};\nexport default FullFeaturedCrudGrid;\n"],"names":["_a","handleAddNewRow","GridToolbarContainer","sx","justifyContent","Button","color","startIcon","Add","A","onClick","addNewRecord","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","commonColsDef","field","editable","minWidth","renderEditCell","params","GridEditInputCell","title","error_message","preProcessEditCellProps","hasError","props","value","error","columnsDef","type","headerName","employeeNumber","align","flex","employeeSigDate","renderCell","_b","toLocaleString","toLocaleDateString","valueGetter","Date","documentType","documentName","documentStatus","companySigDate","employeeSignatureName","companySignatureName","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useDataGrid","data","useState","rows","setRows","rowModesModel","setRowModesModel","_c","abortFetch","setAbortFetch","showSnackbar","useAppSnackbar","dispatch","_d","askConfirm","setAskConfirm","confirmOpen","setConfirmOpen","onClose","useCallback","undefined","onConfirm","ask","useConfirmDialog","_e","newRows","setNewRows","apiRef","useGridApiRef","useEffect","setTimeout","handleEditClick","id","mode","Edit","handleSaveClick","View","deleteAfterConfirm","callback","handleDeleteClick","errorName","response","addAbortCallback","abort","unwrap","catch","err","name","removeAbortCallback","abortedErrorName","handleCancelClick","ignoreModifications","find","row","removeRow","handleRowEditStop","event","defaultMuiPrevented","reason","escapeKeyDown","enterKeyDown","processRowUpdate","newRow","returnedRow","message","onProcessRowUpdateError","handleRowModesModelChange","newRowModesModel","toISOString","addNewRow","oldModel","fieldToFocus","current","setPage","sortColumn","prev","filter","aborter","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","columns","useMemo","cellClassName","getActions","isInEditMode","enableAbortButton","abortButton","GridActionsCellItem","icon","Loop","animation","transform","editModeActions","Save","disabled","className","viewModeActions","handlers","activeRequests","keys","open","checked","setChecked","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","FormControlLabel","control","Checkbox","onChange","labelPlacement","autoFocus","commonBoxStyles","width","minHeight","loading","Box","DataGrid","editMode","onRowModesModelChange","onRowEditStop","slots","toolbar","slotProps","initialState","pagination","paginationModel","pageSize","sorting","sortModel","sort","pageSizeOptions","autoHeight"],"sourceRoot":""}
"use strict";(self.webpackChunktest_frontend_spa=self.webpackChunktest_frontend_spa||[]).push([[77],{77:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ce});var r=n(6540),o=n(8239),a=n(7839),l=n(9890),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};const c=r.memo((function(e){var t=e.value,n=e.label,c=e.isHead,u=e.oneLineRow,p=e.columnType,s=void 0===p?"text":p,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["value","label","isHead","oneLineRow","columnType"]),d=c||"date-time"!==s?[t,t]:u?[new Date(t).toLocaleString(),new Date(t).toLocaleDateString()]:[new Date(t).toLocaleString(),new Date(t).toLocaleString()],f=d[0],y=d[1];return r.createElement(o.Ay,i({item:!0},m),r.createElement(a.A,{title:"".concat(u?f:"")},r.createElement(l.A,{InputProps:{readOnly:!0},fullWidth:!0,variant:c?"filled":"outlined",label:u?"":n,value:y,hiddenLabel:c&&u,margin:u?"none":"dense",sx:{"& .MuiInputBase-input":{overflow:"hidden",textOverflow:"ellipsis"}}})))}));var u,p,s,m=n(967),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)},f="lg",y={xs:6,sm:4,md:3,lg:!0},v=function(e){var t,n;return(t={})[f]="auto",t.sx={width:(n={},n[f]=e,n)},t},b=[d(d({columnKey:"employeeNumber",columnName:m._5.employeeNumber,type:"text"},y),v(80)),d({columnKey:"employeeSigDate",columnName:m._5.employeeSigDate,type:"date-time"},y),d(d({columnKey:"documentStatus",columnName:m._5.documentStatus,type:"text"},y),v(120)),d({columnKey:"documentType",columnName:m._5.documentType,type:"text"},y),d(d({columnKey:"documentName",columnName:m._5.documentName,type:"text"},y),v(150)),d({columnKey:"companySigDate",columnName:m._5.companySigDate,type:"date-time"},y),d(d({columnKey:"companySignatureName",columnName:m._5.companySignatureName,type:"text"},y),v(120)),d(d({columnKey:"employeeSignatureName",columnName:m._5.employeeSignatureName,type:"text"},y),v(120)),(u={columnKey:"actions_cell",columnName:"Actions",display:"flex",xs:12},u[f]="auto",u.sx={width:(p={},p[f]=90,p),justifyContent:(s={xs:"flex-end"},s[f]="center",s),alignItems:"center"},u.type="text",u)],O=n(9067),g=n(1641),h=n(8597),w=n(8228),E=n(8984),j=n(9781),x={edit:h.A,delete:w.A,save:E.A,cancel:j.A};const P=function(e){var t=e.onclick,n=e.action,o=e.disabled,a=x[n];return r.createElement(g.A,{role:"menuitem","aria-label":n,onClick:t,disabled:o},r.createElement(a,{fontSize:"small"}))};var S=n(3517),A={animation:"spin 2s linear infinite","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}};const L=r.memo((function(e){var t=e.spin;return r.createElement(g.A,{color:"inherit",role:"alert","aria-busy":"true","aria-label":"loader",disabled:!t,sx:t?A:{}},r.createElement(S.A,{fontSize:"small",color:t?"warning":"inherit"}))})),F=function(e){var t=e.mode,n=(e.style,e.callbacks),o=e.isFetching,a=void 0!==o&&o;return r.createElement(O.A,{role:"menu",className:"db-table-row-actions",sx:{width:{lg:"100%"}},display:"flex",justifyContent:"space-around"},"view"===t?r.createElement(r.Fragment,null,r.createElement(P,{action:"edit",disabled:a,onclick:n.onedit}),r.createElement(P,{action:"delete",disabled:a,onclick:n.ondelete})):r.createElement(r.Fragment,null,r.createElement(P,{action:"save",disabled:a,onclick:n.onsave}),r.createElement(P,{action:"cancel",disabled:a,onclick:n.oncancel})),r.createElement(L,{spin:a}))};var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N.apply(this,arguments)};const k=function(e){e.isHead;var t=e.onedit,n=e.ondelete,a=e.oncancel,l=e.onsave,i=e.editMode,c=e.isFetching,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isHead","onedit","ondelete","oncancel","onsave","editMode","isFetching"]);return r.createElement(o.Ay,N({item:!0},u),i?r.createElement(F,{mode:"edit",isFetching:c,callbacks:{oncancel:a,onsave:l}}):r.createElement(F,{mode:"view",isFetching:c,callbacks:{onedit:t,ondelete:n}}))};var R=n(6723),_=n(2194),I=n(601),H=n(5737),D=n(4353),T=n.n(D),C=(n(2796),function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)});const K=function(e){var t=e.inputField,n=e.label,o=e.onchange,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["inputField","label","onchange"]),l=T()();(0,r.useEffect)((function(){c||o(l.toISOString(),"")}),[]);var i=n?{}:{margin:0},c=t.value;return r.createElement(H.$,{adapterLocale:"ru",dateAdapter:I.R},r.createElement(_.K,C({label:n,format:"DD.MM.YYYY, HH:mm:ss",value:T()(c||l),sx:i,onChange:function(e,t){var n=t.validationError?c:(null==e?void 0:e.toISOString())||c;o(n,t.validationError||"")}},a)))};var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},M.apply(this,arguments)};const z=function(e){var t=e.inputField,n=e.onchange,a=e.label,l=e.oneLineRow,i=e.columnType,c=void 0===i?"text":i,u=e.validateHelpers,p=e.validateOptions,s=e.mutators,m=e.gridProps,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["inputField","onchange","label","oneLineRow","columnType","validateHelpers","validateOptions","mutators","gridProps"]),f=(t.value,t.error),y={inputField:t,label:l?"":a,onchange:n};return r.useMemo((function(){return r.createElement(o.Ay,M({item:!0},m),"text"===c?r.createElement(R.A,M({fullWidth:!0,title:l&&f||"",variant:"outlined",hiddenLabel:l,needHelperText:!l,margin:l?"none":"dense",sx:{"& .MuiInputBase-input":{overflow:"hidden",textOverflow:"ellipsis"}}},d,{validateHelpers:u,validateOptions:p,mutators:s},y)):r.createElement(K,M({},y)))}),[l,a,t,u,p,s])};var B=n(9246),Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Y.apply(this,arguments)},W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const $=function(e){var t=e.row,n=e.inputFields,a=e.oneLineRow,l=e.isFetching,i=e.oninput,u=e.onedit,p=e.ondelete,s=W(e,["row","inputFields","oneLineRow","isFetching","oninput","onedit","ondelete"]),m=!!n,d=!t&&!!n,f=!t&&!n,y=r.useMemo((function(){return[B.z2]}),[]);return r.createElement(o.Ay,{container:!0,className:"table-row",role:"row"},b.map((function(e){var o=e.columnKey,v=e.columnName,b=e.type,O=W(e,["columnKey","columnName","type"]);return f?r.createElement(c,Y({key:"header-".concat(v),value:v,label:v,isHead:!0,oneLineRow:a},O)):"actions_cell"===o?r.createElement(k,Y({},O,{editMode:m,key:"".concat((null==t?void 0:t.id)||"new-row","-actions"),onedit:function(){return u(d?"":t.id)},ondelete:function(){return p(d?"":t.id)},isFetching:l},s)):m||d?r.createElement(z,{key:"".concat((null==t?void 0:t.id)||"new-row","-").concat(v),label:v,inputField:n[o],columnType:b,oneLineRow:a,gridProps:O,onchange:i(o),validateHelpers:y}):r.createElement(c,Y({key:"".concat(t.id,"-").concat(v),value:t[o],label:v,columnType:b,oneLineRow:a},O))})))};var q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q.apply(this,arguments)};const G=r.memo((function(e){return r.createElement($,q({},e))}),(function(e,t){return e.oneLineRow===t.oneLineRow}));var J=n(4309),Q=n(8719),U=n(4073),V=n(6576),X=n(2048),Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Z.apply(this,arguments)};const ee=function(e){var t=e.row,n=e.inputFields;return r.createElement(J.A,{defaultExpanded:!t||!!n},r.createElement(Q.A,{expandIcon:r.createElement(X.A,null),"aria-controls":"".concat((null==t?void 0:t.employeeNumber)||"new-row","-content"),sx:{bgcolor:"rgba(0, 0, 0, 0.06)"}},r.createElement(U.A,null,t?t.employeeNumber:"Новая запись")),r.createElement(V.A,null,r.createElement($,Z({},e))))};var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},te.apply(this,arguments)};const ne=function(e){return e.oneLineRow?r.createElement($,te({},e)):r.createElement(ee,te({},e))};var re=n(4675),oe=n(5327),ae=n(6990),le=n(6017),ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ie.apply(this,arguments)};const ce=function(e){var t=e.data,n=e.oneLineRowBreakpoint,o=e.isCreate,a=e.isEdit,l=e.inputFields,i=e.onCreate,c=e.fetchingID,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["data","oneLineRowBreakpoint","isCreate","isEdit","inputFields","onCreate","fetchingID"]),p=(0,re.A)(),s=(0,oe.A)(p.breakpoints.up(n));return r.createElement("div",{className:"database-table"},r.createElement(O.A,null,r.createElement(ae.A,{variant:"outlined",onClick:i,sx:{m:1}},m.R_.addNewRecord)),s&&r.createElement(G,ie({oneLineRow:s},u)),t.map((function(e){return r.createElement(ne,ie({key:e.id,row:e,inputFields:a===e.id?l:void 0,oneLineRow:s,isFetching:c.includes(e.id)},u))})),o&&r.createElement(ne,ie({key:"new-row",inputFields:l,oneLineRow:s,isFetching:c.includes(le.c)},u)))}},9246:(e,t,n)=>{n.d(t,{z2:()=>r});var r={validate:function(e){return function(e,t){var n=!0,r=t.maxLength,o=t.minLength;return"number"==typeof o&&(n=e.length>=o),"number"==typeof r&&(n=e.length<=r),n}(e,{minLength:1})},error_text:n(967)._L.notEmpty}},6723:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(6540),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};var a=n(9890),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};const i=(c=function(e){var t=e.inputField,n=e.onchange,o=e.needHelperText,i=void 0===o||o,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["inputField","onchange","needHelperText"]),u=t.value,p=t.error,s=t.unTouched;return r.createElement(a.A,l({className:"editing-input",value:u,error:!s&&!!p,helperText:i?!s&&p||" ":"",onChange:function(e){return n(e.target.value,"")}},c))},function(e){var t=e.validateHelpers,n=e.mutators,a=e.validateOptions,l=e.onchange,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["validateHelpers","mutators","validateOptions","onchange"]);return r.createElement(c,o({},i,{onchange:function(e,r){if(n&&n.forEach((function(t){return e=t(e)})),t)for(var o=0,i=t;o<i.length;o++){var c=i[o];if(!c.validate(e,a||{})){r=c.error_text;break}}l(e,r)}}))});var c}}]);
//# sourceMappingURL=77.js.map
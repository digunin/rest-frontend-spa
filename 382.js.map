{"version":3,"file":"382.js","mappings":"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","sources":["webpack://test-frontend-spa/./src/components/display-data/DataGridTable/DataGridToolbar.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/columns.tsx","webpack://test-frontend-spa/./src/utils/mock.fetch.ts","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/useDataGrid.tsx","webpack://test-frontend-spa/./src/components/display-data/DataGridTable/FullFeaturedCrudGrid.tsx"],"sourcesContent":["import React from \"react\";\nimport { GridToolbarContainer } from \"@mui/x-data-grid\";\nimport { Button } from \"@mui/material\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport { label_text } from \"../../../utils/text\";\nvar DataGridToolbar = function (_a) {\n    var handleAddNewRow = _a.handleAddNewRow;\n    return (React.createElement(GridToolbarContainer, { sx: { justifyContent: \"space-between\" } },\n        React.createElement(Button, { color: \"primary\", startIcon: React.createElement(AddIcon, null), onClick: handleAddNewRow }, label_text.addNewRecord)));\n};\nexport default DataGridToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from \"react\";\nimport { GridEditInputCell, } from \"@mui/x-data-grid\";\nimport { databaseColumnNames } from \"../../../utils/text\";\nvar commonColsDef = {\n    field: \"\",\n    editable: true,\n    minWidth: 100,\n    renderEditCell: function (params) {\n        return React.createElement(GridEditInputCell, __assign({}, params, { title: params.error_message || \"\" }));\n    },\n    preProcessEditCellProps: function (params) {\n        var hasError = params.props.value === null;\n        return __assign(__assign({}, params.props), { error: hasError, error_message: hasError ? \"Поле не должно быть пустым\" : \"\" });\n    },\n};\nexport var columnsDef = [\n    __assign(__assign({}, commonColsDef), { field: \"employeeNumber\", type: \"number\", headerName: databaseColumnNames.employeeNumber, align: \"left\", minWidth: 60, flex: 1 }),\n    {\n        editable: true,\n        field: \"employeeSigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.employeeSigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"documentType\", headerName: databaseColumnNames.documentType, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentName\", headerName: databaseColumnNames.documentName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"documentStatus\", headerName: databaseColumnNames.documentStatus, flex: 1 }),\n    {\n        editable: true,\n        field: \"companySigDate\",\n        type: \"dateTime\",\n        minWidth: 100,\n        headerName: databaseColumnNames.companySigDate,\n        flex: 1,\n        renderCell: function (params) {\n            var _a, _b;\n            return (React.createElement(\"div\", { title: (_a = params.value) === null || _a === void 0 ? void 0 : _a.toLocaleString() }, (_b = params.value) === null || _b === void 0 ? void 0 : _b.toLocaleDateString()));\n        },\n        valueGetter: function (value) {\n            return new Date(value);\n        },\n    },\n    __assign(__assign({}, commonColsDef), { field: \"employeeSignatureName\", headerName: databaseColumnNames.employeeSignatureName, flex: 1 }),\n    __assign(__assign({}, commonColsDef), { field: \"companySignatureName\", headerName: databaseColumnNames.companySignatureName, flex: 1 }),\n];\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { error_messages } from \"./text\";\nexport var mock_login_success = function (resolveddData) {\n    return Promise.resolve({\n        ok: true,\n        json: function () {\n            return Promise.resolve({\n                data: resolveddData,\n                error_code: 0,\n            });\n        },\n    });\n};\nexport var mock_login_failed = function (resp) {\n    return Promise.resolve({\n        ok: true,\n        json: function () {\n            return Promise.resolve({\n                data: null,\n                error_code: 2004,\n                error_text: error_messages.accessDeny,\n            });\n        },\n    });\n};\nexport var mock_CRUD_success = function (data) {\n    return Promise.resolve({\n        ok: true,\n        json: function () {\n            return Promise.resolve({\n                data: data,\n                error_code: 0,\n            });\n        },\n    });\n};\nexport var mock_CRUD_failed = function (resolved) {\n    return Promise.resolve({\n        ok: true,\n        json: function () {\n            return Promise.resolve(__assign({ data: null, error_code: 2004, error_text: error_messages.accessDeny }, resolved));\n        },\n    });\n};\nexport var mock_Fetch_throw_error = function () {\n    throw new Error(\"mocked error\");\n};\nexport var mocked_single_record = {\n    companySigDate: \"2022-07-23T11:19:15.027Z\",\n    companySignatureName: \"Приказ.sig\",\n    documentName: \"Договор 2.pdf\",\n    documentStatus: \"Подписан\",\n    documentType: \"Приказ о приеме\",\n    employeeNumber: \"1234\",\n    employeeSigDate: \"2022-07-23T11:19:15.017Z\",\n    employeeSignatureName: \"Приказ 2.sig\",\n};\nexport var emptySingleRecord = {\n    companySigDate: \"\",\n    companySignatureName: \"\",\n    documentName: \"\",\n    documentStatus: \"\",\n    documentType: \"\",\n    employeeNumber: \"\",\n    employeeSigDate: \"\",\n    employeeSignatureName: \"\",\n};\nexport var hasEmptyFields = function (record) {\n    var keys = Object.keys(record).filter(function (key) { return key !== \"id\"; });\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (!record[key])\n            return true;\n    }\n    return false;\n};\nexport var mocked_read_response_data = [\n    {\n        companySigDate: \"2022-12-23T11:19:27.017Z\",\n        companySignatureName: \"Договор.sig\",\n        documentName: \"Договор.pdf\",\n        documentStatus: \"Подписан\",\n        documentType: \"Трудовой договор\",\n        employeeNumber: \"1111\",\n        employeeSigDate: \"2022-12-23T11:19:27.017Z\",\n        employeeSignatureName: \"Договор.sig\",\n        id: \"56afec6f-c72d-4d6a-b93a-b26df5fcc48a\",\n    },\n    {\n        companySigDate: \"2022-11-23T11:19:30.027Z\",\n        companySignatureName: \"Приказ.sig\",\n        documentName: \"Договор 2.pdf\",\n        documentStatus: \"Подписан\",\n        documentType: \"Приказ о приеме\",\n        employeeNumber: \"2222\",\n        employeeSigDate: \"2022-11-23T11:19:27.017Z\",\n        employeeSignatureName: \"Приказ 2.sig\",\n        id: \"ce4ab411-f895-400a-9599-db99a1c32174\",\n    },\n    {\n        companySigDate: \"2022-10-23T11:19:25.017Z\",\n        companySignatureName: \"Договор.sig\",\n        documentName: \"Договор.pdf\",\n        documentStatus: \"Подписан\",\n        documentType: \"Трудовой договор\",\n        employeeNumber: \"3333\",\n        employeeSigDate: \"2022-10-23T11:19:25.017Z\",\n        employeeSignatureName: \"Договор.sig\",\n        id: \"56afec6f-c72d-4d6a-b93a-b26df5fcc48b\",\n    },\n    {\n        companySigDate: \"2022-09-23T11:19:22.027Z\",\n        companySignatureName: \"Приказ.sig\",\n        documentName: \"Договор 2.pdf\",\n        documentStatus: \"Подписан\",\n        documentType: \"Приказ о приеме\",\n        employeeNumber: \"4444\",\n        employeeSigDate: \"2022-09-23T11:19:22.017Z\",\n        employeeSignatureName: \"Приказ 2.sig\",\n        id: \"ce4ab411-f895-400a-9599-db99a1c3217c\",\n    },\n    {\n        companySigDate: \"2022-08-23T11:19:18.017Z\",\n        companySignatureName: \"Договор.sig\",\n        documentName: \"Договор.pdf\",\n        documentStatus: \"Подписан\",\n        documentType: \"Трудовой договор\",\n        employeeNumber: \"5555\",\n        employeeSigDate: \"2022-08-23T11:19:18.017Z\",\n        employeeSignatureName: \"Договор.sig\",\n        id: \"56afec6f-c72d-4d6a-b93a-b26df5fcc48d\",\n    },\n];\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { GridActionsCellItem, GridRowEditStopReasons, GridRowModes, useGridApiRef, } from \"@mui/x-data-grid\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlined\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CancelIcon from \"@mui/icons-material/Close\";\nimport { columnsDef } from \"./columns\";\nimport { emptySingleRecord, hasEmptyFields } from \"../../../utils/mock.fetch\";\nimport { nanoid } from \"nanoid\";\nimport { useAppSnackbar } from \"../../../hooks/useAppSnackbar\";\nimport { useAppDispatch } from \"../../../store\";\nimport { Loop } from \"@mui/icons-material\";\nimport { useConfirmDialog } from \"./useConfirmDialog\";\nimport { useCreateRowMutation, useDeleteRowMutation, useUpdateRowMutation, } from \"../../../api/databaseAPI\";\nexport var useDataGrid = function () {\n    var _a = useState({}), rowModesModel = _a[0], setRowModesModel = _a[1];\n    var _b = useState([]), fetchingRows = _b[0], setFetchingRows = _b[1];\n    var showSnackbar = useAppSnackbar().showSnackbar;\n    var dispatch = useAppDispatch();\n    var _c = useConfirmDialog(), askConfirm = _c.askConfirm, confirmOpen = _c.confirmOpen, onClose = _c.onClose, onConfirm = _c.onConfirm, setConfirmOpen = _c.setConfirmOpen;\n    // newRows - массив копий свежесозданных строк,\n    // которые еще не отправлены на сервер.\n    var _d = useState([]), newRows = _d[0], setNewRows = _d[1];\n    var apiRef = useGridApiRef();\n    var createRow = useCreateRowMutation()[0];\n    var updateRow = useUpdateRowMutation()[0];\n    var deleteRow = useDeleteRowMutation()[0];\n    var handleEditClick = useCallback(function (id) { return function () {\n        var _a;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.Edit }, _a)));\n    }; }, [rowModesModel]);\n    var handleSaveClick = useCallback(function (id) { return function () {\n        var _a;\n        if (fetchingRows.includes(id))\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View }, _a)));\n    }; }, [rowModesModel]);\n    var deleteAfterConfirm = useCallback(function (callback) {\n        if (askConfirm) {\n            setConfirmOpen(function () { return callback; });\n        }\n        else\n            callback();\n    }, [askConfirm]);\n    var handleDeleteClick = useCallback(function (id) { return function () {\n        var processDelete = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var errorName, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        errorName = \"\";\n                        response = deleteRow(id);\n                        addFetchingRow(id);\n                        return [4 /*yield*/, response.unwrap().catch(function (err) {\n                                errorName = err.name;\n                            })];\n                    case 1:\n                        _a.sent();\n                        removeFetchingRow(id);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        deleteAfterConfirm(processDelete);\n    }; }, [dispatch, deleteAfterConfirm]);\n    var handleCancelClick = useCallback(function (id) { return function () {\n        var _a;\n        if (fetchingRows.includes(id))\n            return;\n        setRowModesModel(__assign(__assign({}, rowModesModel), (_a = {}, _a[id] = { mode: GridRowModes.View, ignoreModifications: true }, _a)));\n        var editedRow = newRows.find(function (row) { return row.id === id; });\n        if (editedRow) {\n            removeRow(id);\n        }\n    }; }, [newRows, rowModesModel]);\n    var handleRowEditStop = useCallback(function (params, event) {\n        event.defaultMuiPrevented = true;\n        switch (params.reason) {\n            case GridRowEditStopReasons.escapeKeyDown:\n                handleCancelClick(params.id)();\n                break;\n            case GridRowEditStopReasons.enterKeyDown:\n                handleSaveClick(params.id)();\n        }\n    }, [handleCancelClick, handleSaveClick]);\n    var processRowUpdate = useCallback(function (newRow) { return __awaiter(void 0, void 0, void 0, function () {\n        var returnedRow, id, error, creatingRow, response, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    returnedRow = newRow;\n                    id = newRow.id;\n                    error = { name: \"\", message: \"\" };\n                    if (hasEmptyFields(newRow)) {\n                        return [2 /*return*/, Promise.reject(\"Заполните пустые поля\")];\n                    }\n                    creatingRow = newRows.find(function (row) { return row.id === id; });\n                    if (!creatingRow) return [3 /*break*/, 2];\n                    response = createRow(newRow);\n                    addFetchingRow(id);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                            removeRow(id);\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 1:\n                    _a.sent();\n                    removeFetchingRow(id);\n                    return [3 /*break*/, 4];\n                case 2:\n                    response = updateRow(__assign(__assign({}, newRow), { id: id }));\n                    addFetchingRow(id);\n                    return [4 /*yield*/, response\n                            .unwrap()\n                            .then(function (row) {\n                            returnedRow = row;\n                        })\n                            .catch(function (err) { return (error = err); })];\n                case 3:\n                    _a.sent();\n                    removeFetchingRow(id);\n                    _a.label = 4;\n                case 4:\n                    if (error.message) {\n                        return [2 /*return*/, Promise.reject()];\n                    }\n                    return [2 /*return*/, returnedRow];\n            }\n        });\n    }); }, [newRows, dispatch]);\n    var onProcessRowUpdateError = useCallback(function (error) {\n        showSnackbar(error);\n    }, []);\n    var handleRowModesModelChange = useCallback(function (newRowModesModel) {\n        setRowModesModel(newRowModesModel);\n    }, []);\n    var handleAddNewRow = useCallback(function () {\n        var newRow = __assign(__assign({ id: nanoid() }, emptySingleRecord), { companySigDate: new Date().toISOString(), employeeSigDate: new Date().toISOString() });\n        addNewRow(newRow);\n        setRowModesModel(function (oldModel) {\n            var _a;\n            return (__assign(__assign({}, oldModel), (_a = {}, _a[newRow.id] = {\n                mode: GridRowModes.Edit,\n                fieldToFocus: \"employeeNumber\",\n            }, _a)));\n        });\n        apiRef.current.setPage(0);\n        apiRef.current.sortColumn(\"companySigDate\", \"desc\");\n    }, [apiRef.current]);\n    var addNewRow = useCallback(function (newRow) {\n        setNewRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newRow], false); });\n    }, []);\n    var removeRow = useCallback(function (id) {\n        setNewRows(function (prev) { return prev.filter(function (row) { return row.id !== id; }); });\n    }, []);\n    var addFetchingRow = useCallback(function (id) {\n        setFetchingRows(function (prev) { return __spreadArray(__spreadArray([], prev, true), [id], false); });\n    }, []);\n    var removeFetchingRow = useCallback(function (id) {\n        setFetchingRows(function (prev) { return prev.filter(function (rowID) { return rowID !== id; }); });\n    }, []);\n    var columns = useMemo(function () {\n        return __spreadArray(__spreadArray([], columnsDef, true), [\n            {\n                field: \"actions\",\n                type: \"actions\",\n                headerName: \"Actions\",\n                minWidth: 126,\n                cellClassName: \"actions\",\n                getActions: function (_a) {\n                    var _b;\n                    var id = _a.id;\n                    var isInEditMode = ((_b = rowModesModel[id]) === null || _b === void 0 ? void 0 : _b.mode) === GridRowModes.Edit;\n                    var enableIndicator = fetchingRows.includes(id);\n                    var indicator = enableIndicator\n                        ? [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"warning\" }), label: \"indicator\", disabled: true, sx: {\n                                    animation: \"spin 2s linear infinite\",\n                                    \"@keyframes spin\": {\n                                        \"0%\": {\n                                            transform: \"rotate(360deg)\",\n                                        },\n                                        \"100%\": {\n                                            transform: \"rotate(0deg)\",\n                                        },\n                                    },\n                                } }),\n                        ]\n                        : [\n                            React.createElement(GridActionsCellItem, { icon: React.createElement(Loop, { color: \"inherit\" }), label: \"indicator\", disabled: true }),\n                        ];\n                    var editModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(SaveIcon, null), label: \"Save\", sx: {\n                                color: \"primary.main\",\n                            }, onClick: handleSaveClick(id), disabled: enableIndicator }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(CancelIcon, null), label: \"Cancel\", className: \"textPrimary\", onClick: handleCancelClick(id), color: \"inherit\", disabled: enableIndicator }),\n                    ];\n                    var viewModeActions = [\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(EditIcon, null), label: \"Edit\", className: \"textPrimary\", onClick: handleEditClick(id), color: \"inherit\", disabled: enableIndicator }),\n                        React.createElement(GridActionsCellItem, { icon: React.createElement(DeleteIcon, null), label: \"Delete\", onClick: handleDeleteClick(id), color: \"inherit\", disabled: enableIndicator }),\n                    ];\n                    if (isInEditMode) {\n                        return __spreadArray(__spreadArray([], editModeActions, true), indicator, true);\n                    }\n                    return __spreadArray(__spreadArray([], viewModeActions, true), indicator, true);\n                },\n            },\n        ], false);\n    }, [\n        fetchingRows,\n        rowModesModel,\n        handleSaveClick,\n        handleCancelClick,\n        handleEditClick,\n        handleDeleteClick,\n    ]);\n    var handlers = {\n        handleRowEditStop: handleRowEditStop,\n        processRowUpdate: processRowUpdate,\n        handleRowModesModelChange: handleRowModesModelChange,\n        handleAddNewRow: handleAddNewRow,\n        onProcessRowUpdateError: onProcessRowUpdateError,\n        onClose: onClose,\n        onConfirm: onConfirm,\n    };\n    return {\n        rows: newRows,\n        rowModesModel: rowModesModel,\n        columns: columns,\n        handlers: handlers,\n        apiRef: apiRef,\n        activeRequests: fetchingRows.length > 0,\n        confirmOpen: !!confirmOpen,\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport DataGridToolbar from \"./DataGridToolbar\";\nimport { useDataGrid } from \"./useDataGrid\";\nimport AppConfirmDialog from \"./AppConfirmDialog\";\nvar testMode = process.env.NODE_ENV === \"test\";\nvar commonBoxStyles = {\n    width: \"100%\",\n    \"& .actions\": {\n        color: \"text.secondary\",\n    },\n    \"& .textPrimary\": {\n        color: \"text.primary\",\n    },\n};\nvar testBoxStyles = __assign({ minHeight: 450 }, commonBoxStyles);\nvar FullFeaturedCrudGrid = function (_a) {\n    var data = _a.data, loading = _a.loading;\n    var _b = useDataGrid(), rows = _b.rows, rowModesModel = _b.rowModesModel, columns = _b.columns, handlers = _b.handlers, apiRef = _b.apiRef, activeRequests = _b.activeRequests, confirmOpen = _b.confirmOpen;\n    var handleAddNewRow = handlers.handleAddNewRow, handleRowEditStop = handlers.handleRowEditStop, handleRowModesModelChange = handlers.handleRowModesModelChange, processRowUpdate = handlers.processRowUpdate, onProcessRowUpdateError = handlers.onProcessRowUpdateError, onClose = handlers.onClose, onConfirm = handlers.onConfirm;\n    return React.useMemo(function () { return (React.createElement(Box, { sx: testMode ? testBoxStyles : commonBoxStyles },\n        React.createElement(DataGrid, { rows: __spreadArray(__spreadArray([], data, true), rows, true), columns: columns, editMode: \"row\", rowModesModel: rowModesModel, onRowModesModelChange: handleRowModesModelChange, onRowEditStop: handleRowEditStop, processRowUpdate: processRowUpdate, onProcessRowUpdateError: onProcessRowUpdateError, slots: {\n                toolbar: DataGridToolbar,\n            }, slotProps: {\n                toolbar: { handleAddNewRow: handleAddNewRow },\n            }, initialState: {\n                pagination: testMode\n                    ? { paginationModel: { pageSize: 10 } }\n                    : { paginationModel: { pageSize: 5 } },\n                sorting: {\n                    sortModel: [{ field: \"employeeSigDate\", sort: \"desc\" }],\n                },\n            }, sx: { minHeight: 450, p: 1 }, apiRef: apiRef, loading: loading && !activeRequests, pageSizeOptions: [5, 10, 25, 50, 100], autoHeight: testMode ? false : true }),\n        React.createElement(AppConfirmDialog, { title: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435\", body: \"\", open: confirmOpen, onClose: onClose, onConfirm: onConfirm() }))); }, [\n        data,\n        loading,\n        rows,\n        rowModesModel,\n        columns,\n        apiRef,\n        handleAddNewRow,\n        handleRowEditStop,\n        handleRowModesModelChange,\n        processRowUpdate,\n        onProcessRowUpdateError,\n        activeRequests,\n        onClose,\n        onConfirm,\n        confirmOpen,\n    ]);\n};\nexport default FullFeaturedCrudGrid;\n"],"names":["_a","handleAddNewRow","GridToolbarContainer","sx","justifyContent","Button","color","startIcon","Add","A","onClick","addNewRecord","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","commonColsDef","field","editable","minWidth","renderEditCell","params","GridEditInputCell","title","error_message","preProcessEditCellProps","hasError","props","value","error","columnsDef","type","headerName","employeeNumber","align","flex","employeeSigDate","renderCell","_b","toLocaleString","toLocaleDateString","valueGetter","Date","documentType","documentName","documentStatus","companySigDate","employeeSignatureName","companySignatureName","emptySingleRecord","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","ar","l","Array","slice","concat","commonBoxStyles","width","minHeight","data","loading","useState","rowModesModel","setRowModesModel","fetchingRows","setFetchingRows","showSnackbar","useAppSnackbar","dispatch","_c","useConfirmDialog","askConfirm","confirmOpen","onClose","onConfirm","setConfirmOpen","_d","newRows","setNewRows","apiRef","useGridApiRef","createRow","updateRow","deleteRow","handleEditClick","useCallback","id","mode","Edit","handleSaveClick","includes","View","deleteAfterConfirm","callback","handleDeleteClick","response","addFetchingRow","unwrap","catch","err","name","removeFetchingRow","handleCancelClick","ignoreModifications","find","row","removeRow","handleRowEditStop","event","defaultMuiPrevented","reason","escapeKeyDown","enterKeyDown","processRowUpdate","newRow","returnedRow","message","record","_i","keys_1","keys","filter","key","hasEmptyFields","onProcessRowUpdateError","handleRowModesModelChange","newRowModesModel","toISOString","addNewRow","oldModel","fieldToFocus","current","setPage","sortColumn","prev","rowID","columns","useMemo","cellClassName","getActions","isInEditMode","enableIndicator","indicator","GridActionsCellItem","icon","Loop","disabled","animation","transform","editModeActions","Save","className","viewModeActions","rows","handlers","activeRequests","useDataGrid","Box","DataGrid","editMode","onRowModesModelChange","onRowEditStop","slots","toolbar","slotProps","initialState","pagination","paginationModel","pageSize","sorting","sortModel","sort","pageSizeOptions","autoHeight","AppConfirmDialog","open"],"sourceRoot":""}